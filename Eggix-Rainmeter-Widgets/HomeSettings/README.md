# Eggix-Rainmeter-Widgets/HomeSettings

## 项目定位

**HomeSettings** 是 **Eggix** 项目的核心组件之一，专注于为《蛋仔派对》风格的Rainmeter桌面小工具提供用户友好的个性化设置界面。它作为Eggix-Rainmeter-Widgets模块的配置中心，负责处理用户头像和昵称的自定义，并确保这些个性化设置能够正确应用到桌面显示组件上。

## 功能概述

HomeSettings组件提供以下核心功能：

1. **头像自定义**：
   - 提供12种预设头像供用户选择
   - 支持从本地导入自定义头像（通过CircleCropTool进行圆形裁剪处理）
   - 头像更换时自动创建备份，确保操作安全

2. **昵称修改**：
   - 允许用户自定义显示在桌面组件上的昵称
   - 直接修改Rainmeter配置文件，实现即时更新
   - 包含完善的错误处理和恢复机制

3. **智能分辨率适配**：
   - 自动检测用户显示器分辨率
   - 根据屏幕高度（4K/2K/1080P及以下）加载对应的高质量背景图片
   - 提供多重故障保护，确保在任何环境下都能显示合适的背景

4. **高DPI支持**：
   - 程序启动时自动设置高DPI感知模式
   - 优化视觉元素在不同DPI缩放比例下的显示效果

## 技术架构

### 核心文件结构

- **Settings_Window.cs**：主窗口类，处理初始化和背景图片设置
- **Settings_Window.ChangeHeader.cs**：头像更换相关逻辑实现
- **Settings_Window.ChangeName.cs**：昵称修改功能实现
- **Program.cs**：程序入口点，负责全局初始化和异常处理
- **home.ini**：Rainmeter配置文件模板

### 与其他模块的关联

HomeSettings在Eggix项目生态中扮演着关键角色：

1. **与Rainmeter的集成**：
   - 作为Rainmeter皮肤的配置前端，通过修改ini文件实现设置同步
   - 为Rainmeter皮肤提供可交互的用户界面，增强用户体验

2. **与其他Eggix组件的关系**：
   - 是Eggix-Rainmeter-Widgets的核心配置模块
   - 可以与Eggix的其他桌面美化组件协同工作，共同构建完整的《蛋仔派对》风格桌面环境
   - 遵循Eggix项目的统一设计语言和模块化原则

## 设计理念

HomeSettings组件遵循Eggix项目的核心设计理念：

- **模块化设计**：功能封装在独立类中，确保高内聚低耦合
- **用户友好**：提供直观的操作界面，降低用户使用门槛
- **安全性**：包含完善的错误处理、日志记录和文件备份机制
- **性能优化**：针对不同分辨率进行优化，确保在各种设备上都能流畅运行
- **可维护性**：代码结构清晰，注释详尽，便于后续扩展和维护

## 技术栈

- **开发框架**：.NET Framework 4.6.2
- **开发语言**：C#
- **UI框架**：Windows Forms
- **第三方依赖**：Rainmeter（桌面小工具引擎）

## 使用流程

1. 运行HomeSettings.exe程序
2. 在设置界面中，可以：
   - 点击预设头像进行更换
   - 点击自定义头像按钮导入本地图片
   - 点击更改昵称按钮修改显示名称
3. 设置完成后，关闭窗口，更改会自动应用到Rainmeter桌面组件上

## 注意事项

- 所有视觉元素均为重制或从合法渠道获取，未使用任何游戏解包素材
- 修改头像和昵称时，程序会自动创建备份文件，确保数据安全
- 在高DPI显示器上，可能需要调整Rainmeter皮肤的尺寸以获得最佳显示效果
- 如遇问题，可查看程序目录下的日志文件获取详细信息

## 版权信息

此组件为Eggix项目的一部分，是《蛋仔派对》风格的粉丝二次创作，是非盈利、非官方的个人项目。

《蛋仔派对》是网易游戏的注册商标。Windows是微软公司的注册商标。Eggix项目与网易、微软公司无任何隶属或赞助关系。

© 2024 SYSTEM-LIGHT